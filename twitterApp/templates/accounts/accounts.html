{% extends 'base/base.html' %}
{% block title %}
<!--begin::Page title-->
<div class="page-title d-flex flex-column align-items-start justify-content-center flex-wrap me-lg-2 pb-10 pb-lg-0"
  data-kt-swapper="true" data-kt-swapper-mode="prepend"
  data-kt-swapper-parent="{default: '#kt_content_container', lg: '#kt_header_container'}">
  <!--begin::Heading-->
  <h1 class="d-flex flex-column text-dark fw-bold my-0 fs-1">Cuentas</h1>
  <!--end::Heading-->

  <!--begin::Breadcrumb-->
  <ul class="breadcrumb breadcrumb-dot fw-semibold fs-base my-1">
    <li class="breadcrumb-item text-muted">
      <a href="{% url 'accounts' %}" class="text-muted text-hover-primary">
        Inicio
      </a>
    </li>

    <li class="breadcrumb-item text-muted">Cuentas</li>

    <li class="breadcrumb-item text-dark">Mostrar</li>
  </ul>
  <!--end::Breadcrumb-->
</div>
<!--end::Page title-->
{% endblock title %}

{% block controls %}
<!--begin::Controls-->
<div class="d-flex flex-wrap my-1">
  <!--begin::Tab nav-->
  <ul class="nav nav-pills me-6 mb-2 mb-sm-0" role="tablist">
    <li class="nav-item m-0" role="presentation">
      <a class="btn btn-sm btn-icon btn-light btn-color-muted btn-active-primary me-3 active" data-bs-toggle="tab"
        href="#kt_project_users_card_pane" aria-selected="true" role="tab">
        <!--begin::Svg Icon | path: /var/www/preview.keenthemes.com/keenthemes/metronic/docs/core/html/src/media/icons/duotune/general/gen008.svg-->
        <span class="svg-icon svg-icon-muted svg-icon-2">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 2H10C10.6 2 11 2.4 11 3V10C11 10.6 10.6 11 10 11H3C2.4 11 2 10.6 2 10V3C2 2.4 2.4 2 3 2Z"
              fill="currentColor" />
            <path opacity="0.3"
              d="M14 2H21C21.6 2 22 2.4 22 3V10C22 10.6 21.6 11 21 11H14C13.4 11 13 10.6 13 10V3C13 2.4 13.4 2 14 2Z"
              fill="currentColor" />
            <path opacity="0.3"
              d="M3 13H10C10.6 13 11 13.4 11 14V21C11 21.6 10.6 22 10 22H3C2.4 22 2 21.6 2 21V14C2 13.4 2.4 13 3 13Z"
              fill="currentColor" />
            <path opacity="0.3"
              d="M14 13H21C21.6 13 22 13.4 22 14V21C22 21.6 21.6 22 21 22H14C13.4 22 13 21.6 13 21V14C13 13.4 13.4 13 14 13Z"
              fill="currentColor" />
          </svg>
        </span>
        <!--end::Svg Icon-->
      </a>
    </li>

    <li class="nav-item m-0" role="presentation">
      <a class="btn btn-sm btn-icon btn-light btn-color-muted btn-active-primary" data-bs-toggle="tab"
        href="#kt_project_users_table_pane" aria-selected="false" tabindex="-1" role="tab">
        <!--begin::Svg Icon | path: /var/www/preview.keenthemes.com/keenthemes/metronic/docs/core/html/src/media/icons/duotune/general/gen010.svg-->
        <span class="svg-icon svg-icon-muted svg-icon-2"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path opacity="0.3"
              d="M2 21V14C2 13.4 2.4 13 3 13H21C21.6 13 22 13.4 22 14V21C22 21.6 21.6 22 21 22H3C2.4 22 2 21.6 2 21Z"
              fill="currentColor" />
            <path d="M2 10V3C2 2.4 2.4 2 3 2H21C21.6 2 22 2.4 22 3V10C22 10.6 21.6 11 21 11H3C2.4 11 2 10.6 2 10Z"
              fill="currentColor" />
          </svg>
        </span>
        <!--end::Svg Icon-->
      </a>
    </li>
  </ul>
  <!--end::Tab nav-->

  <!--begin::Tab nav-->
  <ul class="nav nav-pills me-6 mb-2 mb-sm-0" role="tablist">
    <li class="nav-item m-0 me-3" role="presentation">
      <form data-kt-search-element="form" action="{% url 'likes_tweets' %}" method="POST"
        class="d-none d-lg-block w-100 position-relative mb-2 mb-lg-0" autocomplete="off">
        {% csrf_token %}
        <!--begin::Input group-->
        <div class="input-group input-group-sm">
          <input type="text" id="tweet" name="tweet" class="form-control" placeholder="Dar like" aria-label="Dar like"
            aria-describedby="basic-addon2" required />
          <button type="submit" class="btn btn-icon btn-outline btn-active-color-danger">
            <!--begin::Svg Icon | path: /var/www/preview.keenthemes.com/keenthemes/metronic/docs/core/html/src/media/icons/duotune/general/gen030.svg-->
            <span class="svg-icon svg-icon-muted svg-icon-2">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M16.697 5.5c-1.222-.06-2.679.51-3.89 2.16l-.805 1.09-.806-1.09C9.984 6.01 8.526 5.44 7.304 5.5c-1.243.07-2.349.78-2.91 1.91-.552 1.12-.633 2.78.479 4.82 1.074 1.97 3.257 4.27 7.129 6.61 3.87-2.34 6.052-4.64 7.126-6.61 1.111-2.04 1.03-3.7.477-4.82-.561-1.13-1.666-1.84-2.908-1.91zm4.187 7.69c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"
                  fill="currentColor" />
              </svg>
            </span>
            <!--end::Svg Icon-->
          </button>
        </div>
        <!--end::Input group-->
      </form>
    </li>

    <li class="nav-item me-3" role="presentation">
      <form data-kt-search-element="form" action="{% url 'search_retweet' %}" method="POST"
        class="d-none d-lg-block w-100 position-relative mb-2 mb-lg-0" autocomplete="off">
        {% csrf_token %}
        <!--begin::Input group-->
        <div class="input-group input-group-sm">
          <input type="text" id="tweet" name="tweet" class="form-control" placeholder="Dar retweet"
            aria-label="Dar retweet" aria-describedby="basic-addon2" required />
          <button type="submit" class="btn btn-icon btn-outline btn-active-color-success">
            <!--begin::Svg Icon | path: /var/www/preview.keenthemes.com/keenthemes/metronic/docs/core/html/src/media/icons/duotune/arrows/arr029.svg-->
            <span class="svg-icon svg-icon-muted svg-icon-2">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M4.5 3.88l4.432 4.14-1.364 1.46L5.5 7.55V16c0 1.1.896 2 2 2H13v2H7.5c-2.209 0-4-1.79-4-4V7.55L1.432 9.48.068 8.02 4.5 3.88zM16.5 6H11V4h5.5c2.209 0 4 1.79 4 4v8.45l2.068-1.93 1.364 1.46-4.432 4.14-4.432-4.14 1.364-1.46 2.068 1.93V8c0-1.1-.896-2-2-2z"
                  fill="currentColor" />

              </svg>
            </span>
            <!--end::Svg Icon-->
          </button>
        </div>
        <!--end::Input group-->
      </form>
    </li>
  </ul>
  <!--end::Tab nav-->

  <!--begin::Actions-->
  <div class="d-flex my-0">
    <a href="#" class="btn btn-sm btn-light btn-color-muted btn-active-primary me-3" data-bs-toggle="modal"
      data-bs-target="#kt_modal_new_user">
      <!--begin::Svg Icon | path: /var/www/preview.keenthemes.com/keenthemes/metronic/docs/core/html/src/media/icons/duotune/communication/com014.svg-->
      <span class="svg-icon svg-icon-muted svg-icon-2"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M16.0173 9H15.3945C14.2833 9 13.263 9.61425 12.7431 10.5963L12.154 11.7091C12.0645 11.8781 12.1072 12.0868 12.2559 12.2071L12.6402 12.5183C13.2631 13.0225 13.7556 13.6691 14.0764 14.4035L14.2321 14.7601C14.2957 14.9058 14.4396 15 14.5987 15H18.6747C19.7297 15 20.4057 13.8774 19.912 12.945L18.6686 10.5963C18.1487 9.61425 17.1285 9 16.0173 9Z"
            fill="currentColor" />
          <rect opacity="0.3" x="14" y="4" width="4" height="4" rx="2" fill="currentColor" />
          <path
            d="M4.65486 14.8559C5.40389 13.1224 7.11161 12 9 12C10.8884 12 12.5961 13.1224 13.3451 14.8559L14.793 18.2067C15.3636 19.5271 14.3955 21 12.9571 21H5.04292C3.60453 21 2.63644 19.5271 3.20698 18.2067L4.65486 14.8559Z"
            fill="currentColor" />
          <rect opacity="0.3" x="6" y="5" width="6" height="6" rx="3" fill="currentColor" />
        </svg>
      </span>
      <!--end::Svg Icon-->
      usuario
    </a>
    <a href="#" class="btn btn-sm btn-light btn-color-muted btn-active-primary me-3" data-bs-toggle="modal"
      data-bs-target="#kt_modal_scripts">
      <!--begin::Svg Icon | path: /var/www/preview.keenthemes.com/keenthemes/metronic/docs/core/html/src/media/icons/duotune/files/fil008.svg-->
      <span class="svg-icon svg-icon-muted svg-icon-2"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path opacity="0.3"
            d="M19 22H5C4.4 22 4 21.6 4 21V3C4 2.4 4.4 2 5 2H14L20 8V21C20 21.6 19.6 22 19 22ZM11.7 17.7L16 14C16.4 13.6 16.4 12.9 16 12.5C15.6 12.1 15.4 12.6 15 13L11 16L9 15C8.6 14.6 8.4 14.1 8 14.5C7.6 14.9 8.1 15.6 8.5 16L10.3 17.7C10.5 17.9 10.8 18 11 18C11.2 18 11.5 17.9 11.7 17.7Z"
            fill="currentColor" />
          <path
            d="M10.4343 15.4343L9.25 14.25C8.83579 13.8358 8.16421 13.8358 7.75 14.25C7.33579 14.6642 7.33579 15.3358 7.75 15.75L10.2929 18.2929C10.6834 18.6834 11.3166 18.6834 11.7071 18.2929L16.25 13.75C16.6642 13.3358 16.6642 12.6642 16.25 12.25C15.8358 11.8358 15.1642 11.8358 14.75 12.25L11.5657 15.4343C11.2533 15.7467 10.7467 15.7467 10.4343 15.4343Z"
            fill="currentColor" />
          <path d="M15 8H20L14 2V7C14 7.6 14.4 8 15 8Z" fill="currentColor" />
        </svg>
      </span>
      <!--end::Svg Icon-->
      script
    </a>
  </div>
  <!--end::Actions-->
</div>
<!--end::Controls-->
{% endblock controls %}

{% block contenido %}
<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
  <!--begin::Container-->
  <div class="container-xxl" id="kt_content_container">
    <!--begin::Tab Content-->
    <div class="tab-content">
      <!--begin::Tab pane-->
      <div id="kt_project_users_card_pane" class="tab-pane fade show active" role="tabpanel">
        <!--begin::Row-->
        <div class="row g-6 g-xl-9">
          {% for x in accounts %}
          <!--begin::Col-->
          <div class="col-md-6 col-xxl-4">
            <!--begin::Card-->
            <div class="card">
              <!--begin::Card body-->
              <div class="card-body d-flex flex-center flex-column pt-12 p-9">
                <!--begin::Name-->
                <a href="https://twitter.com/{{x.username}}" target="_blank"
                  class="fs-4 text-gray-800 text-hover-primary fw-bold mb-0">Usuario: {{x.username}}</a>
                <!--end::Name-->

                <!--begin::Position-->
                <div class="fw-semibold text-gray-400">Correo: {{x.email}}</div>
                <div class="fw-semibold text-gray-400 mb-6">
                  Contraseña: {{x.password}}
                </div>
                <!--end::Position-->

                <a href="{% url 'detail_accounts' x.id %}" class="btn btn-sm btn-light-primary fw-bold">
                  Editar
                </a>
              </div>
              <!--end::Card body-->
            </div>
            <!--end::Card-->
          </div>
          <!--end::Col-->
          {% endfor %}
        </div>
        <!--end::Row-->
      </div>
      <!--end::Tab pane-->

      <!--begin::Tab pane-->
      <div id="kt_project_users_table_pane" class="tab-pane fade" role="tabpanel">
        <!--begin::Card-->
        <div class="card card-flush">
          <!--begin::Card body-->
          <div class="card-body pt-0">
            <!--begin::Table container-->
            <div class="table-responsive">
              <!--begin::Table-->
              <div id="kt_project_users_table_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
                <div class="table-responsive">
                  <table id="kt_project_users_table"
                    class="table table-row-bordered table-row-dashed gy-4 align-middle fw-bold dataTable no-footer">
                    <thead class="fs-7 text-gray-400 text-uppercase">
                      <tr>
                        <th class="min-w-250px sorting" tabindex="0" aria-controls="kt_project_users_table" rowspan="1"
                          colspan="1" aria-label="Manager: activate to sort column ascending" style="width: 0px">
                          Usuario
                        </th>
                        <th class="min-w-150px sorting" tabindex="0" aria-controls="kt_project_users_table" rowspan="1"
                          colspan="1" aria-label="Date: activate to sort column ascending" style="width: 0px">
                          Correo
                        </th>
                        <th class="min-w-90px sorting" tabindex="0" aria-controls="kt_project_users_table" rowspan="1"
                          colspan="1" aria-label="Amount: activate to sort column ascending" style="width: 0px">
                          Contraseña
                        </th>
                        <th class="min-w-50px text-end sorting_disabled" rowspan="1" colspan="1" aria-label="Details"
                          style="width: 0px">
                          Details
                        </th>
                      </tr>
                    </thead>
                    <tbody class="fs-6">
                      {% for x in accounts %}
                      <tr class="odd">
                        <td>
                          <!--begin::User-->
                          <div class="d-flex align-items-center">
                            <!--begin::Info-->
                            <div class="d-flex flex-column justify-content-center">
                              <a href="" class="mb-1 text-gray-800 text-hover-primary">{{x.username}}</a>
                            </div>
                            <!--end::Info-->
                          </div>
                          <!--end::User-->
                        </td>

                        <td data-order="2023-12-20T00:00:00-06:00">
                          {{x.email}}
                        </td>
                        <td>{{x.password}}</td>
                        <td class="text-end">
                          <a href="{% url 'detail_accounts' x.id %}" class="btn btn-light btn-sm">Editar</a>
                        </td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
              <!--end::Table-->
            </div>
            <!--end::Table container-->
          </div>
          <!--end::Card body-->
        </div>
        <!--end::Card-->
      </div>
      <!--end::Tab pane-->
    </div>
    <!--end::Tab Content-->

    <!--begin::Modals-->
    <!--begin::Modal - Users Search-->
    <div class="modal fade" id="kt_modal_new_user" tabindex="-1" style="display: none" aria-hidden="true">
      <!--begin::Modal dialog-->
      <div class="modal-dialog modal-dialog-centered mw-650px">
        <!--begin::Modal content-->
        <div class="modal-content rounded">
          <!--begin::Modal header-->
          <div class="modal-header pb-0 border-0 justify-content-end">
            <!--begin::Close-->
            <div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
              <!--begin::Svg Icon | path: /var/www/preview.keenthemes.com/keenthemes/metronic/docs/core/html/src/media/icons/duotune/arrows/arr061.svg-->
              <span class="svg-icon svg-icon-muted svg-icon-2"><svg width="24" height="24" viewBox="0 0 24 24"
                  fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)"
                    fill="currentColor" />
                  <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)"
                    fill="currentColor" />
                </svg>
              </span>
              <!--end::Svg Icon-->
            </div>
            <!--end::Close-->
          </div>
          <!--begin::Modal header-->

          <!--begin::Modal body-->
          <div class="modal-body scroll-y px-10 px-lg-15 pt-0 pb-15">
            <!--begin:Form-->
            <form class="form fv-plugins-bootstrap5 fv-plugins-framework" action="{% url 'save_accounts' %}"
              method="POST">
              {% csrf_token %}

              <!--begin::Input group-->
              <div class="d-flex flex-column mb-8">
                <label class="fs-6 fw-semibold mb-2">Target Details</label>
                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                  para agregar cuentas de forma masiva escribe el script en
                  bloques de 3 elementos, los 3 elementos estaran separados por
                  <kbd
                    class="px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">/</kbd>
                  y los bloques estaran separados entre si por
                  <kbd
                    class="px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">;</kbd>
                  recuerda tambien que al final del ultimo bloque no va el
                  <kbd
                    class="px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">;</kbd>.
                </p>

                <textarea id="accounts" name="accounts" class="form-control form-control-solid" rows="3"
                  name="target_details"
                  placeholder="Ejemplo: lic.alexjc@yahoo.com/armando87205091/MARIELA1909;lic.alexjc@yahoo.com/armando87205091/MARIELA1909"></textarea>
              </div>
              <!--end::Input group-->

              <!--begin::Actions-->
              <div class="text-center">
                <button type="reset" id="kt_modal_new_target_cancel" class="btn btn-light me-3" data-bs-dismiss="modal">
                  Cancel
                </button>

                <button type="submit" id="kt_modal_new_target_submit" class="btn btn-primary">
                  <span class="indicator-label"> Submit </span>
                  <span class="indicator-progress">
                    Please wait...
                    <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                  </span>
                </button>
              </div>
              <!--end::Actions-->
            </form>
            <!--end:Form-->
          </div>
          <!--end::Modal body-->
        </div>
        <!--end::Modal content-->
      </div>
      <!--end::Modal dialog-->
    </div>
    <!--end::Modal - Users Search-->

    <!--begin::Modal - Users Search-->
    <div class="modal fade" id="kt_modal_scripts" tabindex="-1" style="display: none" aria-hidden="true">
      <!--begin::Modal dialog-->
      <div class="modal-dialog modal-dialog-centered mw-650px">
        <!--begin::Modal content-->
        <div class="modal-content rounded">
          <!--begin::Modal header-->
          <div class="modal-header pb-0 border-0 justify-content-end">
            <!--begin::Close-->
            <div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
              <!--begin::Svg Icon | path: /var/www/preview.keenthemes.com/keenthemes/metronic/docs/core/html/src/media/icons/duotune/arrows/arr061.svg-->
              <span class="svg-icon svg-icon-muted svg-icon-2"><svg width="24" height="24" viewBox="0 0 24 24"
                  fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)"
                    fill="currentColor" />
                  <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)"
                    fill="currentColor" />
                </svg>
              </span>
              <!--end::Svg Icon-->
            </div>
            <!--end::Close-->
          </div>
          <!--begin::Modal header-->


          <!--begin::Modal body-->
          <div class="modal-body scroll-y px-10 px-lg-15 pt-0 pb-15">
            <!--begin:Form-->

            <!--begin::Input group-->
            <div class="d-flex flex-column mb-8">
              <label class="fs-6 fw-semibold mb-2">Script</label>
              <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                {{ script }}
              </p>
            </div>
            <!--end::Input group-->
          </div>
          <!--end::Modal body-->
        </div>
        <!--end::Modal content-->
      </div>
      <!--end::Modal dialog-->
    </div>
    <!--end::Modal - Users Search-->
    <!--end::Modals-->
  </div>
  <!--end::Container-->
</div>
{% endblock contenido %}